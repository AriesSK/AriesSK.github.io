<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
<title>
    ğŸ§AriesSK
</title>
<!--[if lt IE 9]><script src="//cdn.bootcss.com/html5shiv/r29/html5.js"></script><![endif]-->
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="https://fastly.jsdelivr.net">
<meta name="author" content="AriesSK">
<meta name="description" content="Those who cannot remember the past are condemned to repeat it.">
<meta name="keywords" content="">
<script async src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
<link rel="stylesheet" href="https://AriesSK.github.io/styles/main.css" />
<link href="https://fastly.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/1.7.1/jquery.min.js"></script>

        <link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/css/style.min.css" />
        <script src="https://fastly.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/tocbot.min.js"></script>
        <script src="https://fastly.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/script.min.js"></script>
        <script src="https://fastly.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic/assets/media/script/icon.min.js"></script>
        
            <script src="https://fastly.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/Card/prism.min.js"></script>
            <link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/css/Card/prism.min.css" />
            <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css">
            <script defer src="https://fastly.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js"></script>
            
                <!--ç‚¹å‡»ç‰¹æ•ˆ-->
                <script src="https://fastly.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/love.min.js"></script>
                
                    <script src="https://fastly.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@latest/assets/media/script/APlayer.min.js"></script>
                    <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
                    
                            <script>
                                (function() {
                                    var bp = document.createElement('script');
                                    var curProtocol = window.location.protocol.split(':')[0];
                                    if (curProtocol === 'https') {
                                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                                    } else {
                                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                                    }
                                    var s = document.getElementsByTagName("script")[0];
                                    s.parentNode.insertBefore(bp, s);
                                })();
                            </script>
                            
</head>

<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo">
                <a href="https://AriesSK.github.io">
                    ğŸ§AriesSK
                </a>
            </div>
            <div id="tp-weather-widget"></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/">
                        é¦–é¡µ
                    </a>
                    
                    <a class="menu-item" href="/archives">
                        éšç¬”
                    </a>
                    
                    <a class="menu-item" href="/tags">
                        æ ‡ç­¾
                    </a>
                    
                    <a class="menu-item" href="/post/about">
                        å…³äº
                    </a>
                    
                        <input id="switch_default" type="checkbox" class="switch_default">
                        <label for="switch_default" class="toggleBtn"></label>
            </div>
            <form id="gridea-search-form" data-update="1659076292353" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
            </form>
        </div>
    </nav>

    
        <nav class="navbar-mobile" id="nav-mobile">
            <div class="container">
                <div class="navbar-header">
                    <div>
                        <a href="https://AriesSK.github.io">
                            ğŸ§AriesSK
                        </a>
                        <!--en-->
                        <a id="mobile-toggle-theme-en" class="a en">&nbsp;Dark</a>
                        <!--zh-->
                        <a id="mobile-toggle-theme-zh" class="a zh">&nbsp;&#x6697;&#x9ED1;</a>
                    </div>
                    <form id="gridea-search-form" data-update="1659076292353" action="/search/index.html">
                        <input class="search-input" autocomplete="off" spellcheck="false" name="q" autofocus="true" placeholder="Search...">
                    </form>
                    <!--en-->
                    <div class="menu-toggle" id="menu-toggle-en" onclick="mobileBtn()">&#9776; Menu</div>
                    <!--zh-->
                    <div class="menu-toggle" id="menu-toggle-zh" onclick="mobileBtn()">&#9776; &#x83DC;&#x5355;</div>

                </div>
                <div class="menu" id="mobile-menu">
                    
                        <a class="menu-item" href="/">
                            é¦–é¡µ
                        </a>
                        
                        <a class="menu-item" href="/archives">
                            éšç¬”
                        </a>
                        
                        <a class="menu-item" href="/tags">
                            æ ‡ç­¾
                        </a>
                        
                        <a class="menu-item" href="/post/about">
                            å…³äº
                        </a>
                        
                </div>
            </div>
        </nav>
</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementById("menu-toggle-en");
        var toggleMenu_zh = document.getElementById("menu-toggle-zh");

        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.display != "none") {
            if (toggleMenu.classList.contains("active")) {
                toggleMenu.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu.classList.add("active")
                mobileMenu.classList.add("active")
            }
        } else if (toggleMenu_zh.display != "none") {
            if (toggleMenu_zh.classList.contains("active")) {
                toggleMenu_zh.classList.remove("active")
                mobileMenu.classList.remove("active")
            } else {
                toggleMenu_zh.classList.add("active")
                mobileMenu.classList.add("active")
            }
        }

    }
</script>



    <script>
        (function(a, h, g, f, e, d, c, b) {
            b = function() {
                d = h.createElement(g);
                c = h.getElementsByTagName(g)[0];
                d.src = e;
                d.charset = "utf-8";
                d.async = 1;
                c.parentNode.insertBefore(d, c)
            };
            a["SeniverseWeatherWidgetObject"] = f;
            a[f] || (a[f] = function() {
                (a[f].q = a[f].q || []).push(arguments)
            });
            a[f].l = +new Date();
            if (a.attachEvent) {
                a.attachEvent("onload", b)
            } else {
                a.addEventListener("load", b, false)
            }
        }(window, document, "script", "SeniverseWeatherWidget", "//cdn.sencdn.com/widget2/static/js/bundle.js?t=" + parseInt((new Date().getTime() / 100000000).toString(), 10)));
        window.SeniverseWeatherWidget('show', {
            flavor: "slim",
            location: "WWEFQFPJZ7T8",
            geolocation: true,
            language: "auto",
            unit: "c",
            theme: "auto",
            token: "61bcc333-3305-4728-9465-6785274bb0a3",
            hover: "enabled",
            container: "tp-weather-widget"
        })
    </script>
    
            <div class="main">
                <div class="container">
                    <article class="post-wrap">
                        <header class="post-header">
                            <h1 class="post-title">
                                Vue
                            </h1>
                            
                                <!--en-->
                                <div class="post-meta en">
                                    Author:
                                    <a itemprop="author" rel="author" href="/">
                                        ğŸ§AriesSK
                                    </a>
                                    <span class="post-time">
                                Date: <a href="#">2022-07-29</a>
                            </span>
                                    <span class="post-readtime">Reading Time:<a
                                    href="#">31.0
                                    mins</a></span>
                                    <span class="post-words">words:<a href="#">7051</a></span>
                                    
                                        <span class="post-category">
                                Category:
                                
                                <a href="https://AriesSK.github.io/tag/DBC_JaLfQ/">å‰ç«¯</a>
                                
                            </span>
                                        
                                </div>
                                
                        </header>
                        
                        <div class="post-content">
                            <h2 id="vue-çŸ¥è¯†">Vue çŸ¥è¯†</h2>
<p><strong>å•å‘ç»‘å®š ä¸ åŒå‘ç»‘å®š</strong></p>
<ul>
<li>å•å‘ç»‘å®šï¼šæ•°æ®æ”¹å˜ï¼Œé¡µé¢å…ƒç´ ä¼šè·Ÿç€æ”¹å˜ï¼›è€Œé¡µé¢å…ƒç´ æ”¹å˜ï¼Œæ•°æ®ä¸ä¼šæ”¹å˜ï¼ˆv-text, v-html, æ’å€¼è¡¨è¾¾å¼{{}}, v-bindï¼‰</li>
<li>åŒå‘ç»‘å®šï¼šé¡µé¢å…ƒç´ ä¸æ•°æ®çš„åŒå‘ç»‘å®šï¼Œä¸€æ–¹æ”¹å˜å¦ä¸€æ–¹ä¹Ÿæ”¹å˜ï¼ˆv-modelï¼‰</li>
</ul>
<p><strong>Vue çš„å“åº”å¼åŸç†</strong><br>
æŠŠä¸€ä¸ª JS å¯¹è±¡ä¼ ç»™ Vue å®ä¾‹çš„ data å±æ€§æ—¶ï¼ŒVue å°†éå†æ­¤å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶ä¸”ä½¿ç”¨ <strong>Object.defineProperty</strong> å°†è¿™äº›å±æ€§è½¬æ¢ä¸º getter/setter</p>
<p><strong>Vue çš„å¼‚æ­¥æ¸²æŸ“</strong><br>
Vue å®ç°å“åº”å¼<strong>ä¸æ˜¯åœ¨æ•°æ®å˜åŒ–å DOM ç«‹å³å˜åŒ–</strong>ï¼Œæ˜¯æŒ‰å¼‚æ­¥ç­–ç•¥æ›´æ–°çš„ï¼š</p>
<ol>
<li>æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰</li>
<li>ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ª&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ï¼ˆtask queueï¼‰ï¼Œåªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶</li>
<li>ä¸€æ—¦&quot;æ‰§è¡Œæ ˆ&quot;ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œ</li>
<li>ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥</li>
</ol>
<p><strong>Vue çš„æ¸²æŸ“è¿‡ç¨‹</strong><br>
Vue åŠ è½½æ—¶æ–‡ä»¶çš„æ‰§è¡Œé¡ºåºï¼š</p>
<ol>
<li>æ‰§è¡Œ index.html æ–‡ä»¶</li>
<li>æ‰§è¡Œ main.js æ–‡ä»¶</li>
<li>main.js æŒ‚è½½ app.vueï¼Œç”¨ app.vue çš„ templete æ›¿æ¢ index.html ä¸­çš„<code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code></li>
<li>main.js æ³¨å…¥è·¯ç”±æ–‡ä»¶<code>router/index.js</code>ï¼Œé€šè¿‡è·¯ç”±æ–‡ä»¶è·¯ç”±åˆ°ç›¸å…³ç»„ä»¶å¹¶å°†å…¶æ¸²æŸ“åˆ° router-view ä¸­</li>
<li>router-view åŠ è½½ Layout æ–‡ä»¶<br>
Vue å†…éƒ¨é¡µé¢çš„æ‰§è¡Œé¡ºåºï¼š</li>
<li>å°†æ¨¡æ¿ç¼–è¯‘ä¸º render å‡½æ•°</li>
<li>å®ä¾‹æŒ‚è½½ï¼Œæ ¹æ®æ ¹èŠ‚ç‚¹ render å‡½æ•°è°ƒç”¨ï¼Œé€’å½’ç”Ÿæˆè™šæ‹Ÿ DOM</li>
<li>å°†è™šæ‹Ÿ DOM è½¬åŒ–ä¸ºçœŸå® DOM</li>
<li>ç»„ä»¶å†… data å‘ç”Ÿå˜åŒ–ï¼Œç»„ä»¶é‡æ–°è°ƒç”¨ render å‡½æ•°ç”Ÿæˆè™šæ‹Ÿ DOMï¼Œè¿”å›æ­¥éª¤ 3</li>
</ol>
<p><strong>render</strong><br>
æ¸²æŸ“å‡½æ•°ï¼Œè¿”å›å€¼æ˜¯ VNode è™šæ‹ŸèŠ‚ç‚¹ï¼Œä½¿ç”¨ render å‡½æ•°å…è®¸ä½¿ç”¨ js æ„å»º DOM<br>
createElement æ˜¯ render çš„å‚æ•°ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ„å»ºè™šæ‹Ÿ DOMï¼Œè¯¥å‡½æ•°ç®€å†™ h</p>
<p><strong>$ çš„ä½œç”¨</strong><br>
ç”¨äºåŒºåˆ† Vue ä¸­è‡ªå¸¦çš„å®ä¾‹å’Œç”¨æˆ·è‡ªå®šä¹‰çš„å±æ€§ï¼Œæœ‰ $ å‰ç¼€çš„æ˜¯è‡ªå¸¦çš„</p>
<p><strong>this</strong><br>
Vue ä¸­ä¼šå®šä¹‰å¾ˆå¤šå‡½æ•°æˆ–å˜é‡ï¼Œå¾€å¾€éœ€è¦åœ¨ template æˆ– script æ ‡ç­¾ä¸­ä½¿ç”¨ï¼š</p>
<ul>
<li>åœ¨ template ä¸­ä¸éœ€è¦ this</li>
<li>åœ¨ script æ ‡ç­¾ä¸­éœ€è¦ thisï¼ˆé™¤äº†åœ¨ watch ç›‘å¬ä¸­ï¼‰</li>
</ul>
<h2 id="vue-æŒ‡ä»¤">Vue æŒ‡ä»¤</h2>
<p>** v-text ä¸ v-html**<br>
ç›¸åŒç‚¹ï¼šå‡èƒ½å¤Ÿå±•ç¤ºæ•°æ®ï¼Œå•å‘ç»‘å®š<br>
ä¸åŒç‚¹ï¼š</p>
<ul>
<li>v-text æ¸²æŸ“çº¯æ–‡æœ¬ï¼Œæµè§ˆå™¨ä¸å¯¹å…¶è¿›è¡Œ html è§£æ</li>
<li>v-html è¾“å‡º htmlï¼Œæµè§ˆå™¨å¯¹å…¶è¿›è¡Œ html è§£æ</li>
</ul>
<p><strong>v-if ä¸ v-show</strong><br>
ç›¸åŒç‚¹ï¼šé€šè¿‡å˜é‡æ§åˆ¶æ ‡ç­¾å†…å®¹çš„æ˜¾ç¤ºæˆ–éšè—<br>
ä¸åŒç‚¹ï¼š</p>
<ul>
<li>v-if æ˜¯åŠ¨æ€åœ°å¾€ DOM æ ‘ä¸­æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼Œåœ¨åˆå§‹æ¡ä»¶ä¸ºå‡åˆ™ç›´æ¥ä¸æ¸²æŸ“ DOMï¼ˆæƒ°æ€§çš„ï¼‰ï¼Œåœ¨æ¡ä»¶åˆ‡æ¢æ—¶ä¼šå¯¹æ ‡ç­¾è¿›è¡Œé€‚å½“çš„åˆ›å»ºå’Œé”€æ¯</li>
<li>v-show çš„æœ¬è´¨æ˜¯ç»™ DOM èŠ‚ç‚¹è®¾ç½® display: none; æ¥æ§åˆ¶éšè—ï¼Œä¸è®ºåˆå§‹æ¡ä»¶çœŸå‡å‡ä¼šæ¸²æŸ“DOMï¼Œåªåœ¨åˆå§‹åŒ–æ—¶åŠ è½½ä¸€æ¬¡</li>
</ul>
<p>å¯ä»¥çœ‹å‡º v-if çš„å¼€é”€è¦å¤§äº v-showï¼Œå› æ­¤å‰è€…é€‚ç”¨äºä¸é¢‘ç¹åˆ‡æ¢çŠ¶æ€çš„æƒ…å†µï¼Œåè€…åˆ™é€‚ç”¨äºé¢‘ç¹åˆ‡æ¢çš„åœºæ™¯</p>
<p><strong>v-for</strong><br>
ç”¨äºè§£å†³æ¨¡æ¿å¾ªç¯æ¸²æŸ“çš„é—®é¢˜ï¼Œè¿˜å¯ä»¥æ¸²æŸ“ Object å¯¹è±¡</p>
<pre><code class="language-html">&lt;div v-for=&quot;(item, index) in list&quot;&gt;{{index}}{{item}}&lt;/div&gt;
&lt;div v-for=&quot;(val, key, index) in listObj&quot;&gt;{{index}}{{item}}&lt;/div&gt;
</code></pre>
<p>*æ³¨æ„ï¼š*v-for å’Œ v-if ä¸æ¨èä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºå¤„äºåŒä¸€èŠ‚ç‚¹æ—¶ v-for çš„ä¼˜å…ˆçº§é«˜äº v-ifï¼Œå°±ä¼šåœ¨æ¯ä¸€ä¸ª v-for å¾ªç¯ä¸­é‡å¤è¿è¡Œ v-ifï¼Œä¹Ÿå°±æ„å‘³ç€å³ä½¿æ¸²æŸ“å°éƒ¨åˆ†ä¹Ÿè¦éå†æ•´ä¸ªæ•°ç»„ï¼Œé€ æˆä¸å¿…è¦çš„è®¡ç®—ï¼Œå½±å“æ€§èƒ½ï¼›åœ¨ vue3 ä¸­ v-if çš„ä¼˜å…ˆçº§é«˜äº v-for ä½†ä¼šå¯¼è‡´ v-if æ— æ³•è®¿é—® v-for åˆšå®šä¹‰çš„å˜é‡ï¼Œå› æ­¤ä»ä¸æ¨èä¸€èµ·ä½¿ç”¨<br>
è§£å†³æ–¹æ³•ï¼šä½¿ç”¨ computed å±æ€§å°†éœ€è¦æ¸²æŸ“çš„åˆ—è¡¨æå‰è¿‡æ»¤åå†ç»™ v-for æ¸²æŸ“</p>
<pre><code class="language-js">computed: {
	activeUsers: function () {
		return this.users.filter( (user)=&gt; {
			return user.isShow;//è¿”å›isShow=trueçš„é¡¹ï¼Œæ·»åŠ åˆ°activeUsersæ•°ç»„
		})
	}
}
</code></pre>
<p><strong>v-on</strong><br>
ç›‘å¬äº‹ä»¶ï¼Œç”¨æ¥ç›‘å¬ DOM äº‹ä»¶æ¥è§¦å‘ä¸€äº›æ–¹æ³•å‡½æ•°ï¼Œç®€å†™ @</p>
<pre><code class="language-html">&lt;div id='app'&gt;
    &lt;!-- é¼ æ ‡ç‚¹å‡»äº‹ä»¶ --&gt;
    &lt;button v-on:click=&quot;add&quot;&gt;åŠ &lt;/button&gt;
    &lt;!-- é”®ç›˜è¾“å…¥enter --&gt;
    &lt;input v-model=&quot;username&quot; v-on:keyup.enter=&quot;login&quot; /&gt;
  &lt;/div&gt;
</code></pre>
<p><strong>v-bind</strong><br>
ç”¨äºå±æ€§ä¸å˜é‡çš„ç»‘å®š</p>
<pre><code class="language-html">&lt;!-- src å±æ€§ imageSrc å˜é‡ --&gt;
&lt;img v-bind:src=&quot;imageSrc&quot;&gt;
&lt;!-- ç®€å†™ --&gt;
&lt;img :src=&quot;imageSrc&quot;&gt;
</code></pre>
<p><strong>v-model</strong><br>
è¯­æ³•ç³–ï¼šè®¡ç®—æœºè¯­è¨€ä¸­æ·»åŠ çš„æŸç§è¯­æ³•ï¼Œè¿™ç§è¯­æ³•å¯¹è¯­è¨€çš„åŠŸèƒ½å¹¶æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯æ›´æ–¹ä¾¿ç¨‹åºå‘˜ä½¿ç”¨<br>
åŒå‘ç»‘å®šï¼Œå¯ä»¥ç»“åˆè¾“å…¥æ¡†ã€å¤é€‰æ¡†ã€å•é€‰æ¡†ç­‰å®ç°åŠ¨æ€åœ°ä¿®æ”¹æ•°æ®<br>
v-model æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸ŠåŒ…å«ä¸¤ä¸ªæ“ä½œï¼š</p>
<ul>
<li>v-bind ç»‘å®šä¸€ä¸ª value å±æ€§</li>
<li>v-on ç»™å½“å‰å…ƒç´ ç»‘å®š input äº‹ä»¶</li>
</ul>
<p>v-model çš„ä¿®é¥°ç¬¦ï¼š</p>
<ul>
<li>v-model.lazy æ¥ç®¡ input çš„äº‹ä»¶ç›‘å¬äº‹ä»¶ï¼Œåœ¨ç”¨æˆ·è¾“å…¥æ—¶ä¸ä¼šé©¬ä¸Šå“åº”åœ¨å±•ç¤ºå±‚ï¼Œåªæœ‰ç¡®è®¤æ”¹å˜æ—¶æ‰æ˜¾ç¤º</li>
<li>v-model.trim å»é™¤é¦–å°¾ç©ºæ ¼</li>
<li>v-model.trim è¾“å…¥çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—</li>
</ul>
<p><strong>v-cloak</strong><br>
ä½¿ç”¨ v-cloak è®¾ç½®çš„æ ·å¼ä¼šåœ¨ vvue å®ä¾‹ç¼–è¯‘å®Œæˆåä»ç»‘å®šçš„ html æ ‡ç­¾ä¸Šç§»é™¤<br>
å¯ä»¥æœ‰æ•ˆé˜²æ­¢é¡µé¢åŠ è½½çš„æ—¶å€™å‡ºç° vue çš„å˜é‡å</p>
<pre><code class="language-css">[v-cloak] {
    display: none;
}
</code></pre>
<pre><code class="language-html">&lt;div id=&quot;app&quot; v-cloak&gt;
    {{msg}}
&lt;/div&gt;
</code></pre>
<p><strong>v-pre</strong><br>
è·³è¿‡ vue çš„ç¼–è¯‘ï¼Œç›´æ¥è¾“å‡ºåŸå§‹å€¼</p>
<pre><code class="language-html">&lt;!-- è¾“å‡º {{msg}} --&gt;
&lt;div v-pre&gt;{{msg}}&lt;/div&gt;
</code></pre>
<h2 id="vue-å…¨å±€-api">Vue å…¨å±€ API</h2>
<p><strong>Vue.extend</strong><br>
æ‰©å±•å®ä¾‹æ„é€ å™¨ï¼Œå¾€å¾€å’Œ $mount é…åˆä½¿ç”¨ï¼Œåˆ›å»ºå®ä¾‹å¹¶æŒ‚è½½åˆ°å…ƒç´ ä¸Š</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Vue.extend-æ‰©å±•å®ä¾‹æ„é€ å™¨&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- å®ç°äº†è‡ªå®šä¹‰çº¯æ ‡ç­¾çš„æ•ˆæœ --&gt;
    &lt;official&gt;&lt;/official&gt;
    &lt;script src=&quot;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        // å®šä¹‰æ„é€ å™¨
        var official = Vue.extend({
            template:&quot;&lt;p&gt;&lt;a target='_blank' :href='url'&gt;{{name}}&lt;/a&gt;&lt;/p&gt;&quot;,
            data:function(){
                return{
                    name:'AriesSKçš„åšå®¢',
                    url:'https://ariessk.github.io/'
                }
            }
        });
        // ç”Ÿæˆå®ä¾‹å¹¶æŒ‚è½½åˆ° official DOM ä¸Š
        new official().$mount('official');
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>Vue.directive</strong><br>
è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œå›è°ƒå‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>el è¢«ç»‘å®šçš„ node èŠ‚ç‚¹</li>
<li>binding ä¸€ä¸ªå¯¹è±¡åŒ…å«æŒ‡ä»¤çš„ä¿¡æ¯</li>
<li>vnode Vue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹</li>
</ul>
<p>è‡ªå®šä¹‰æŒ‡ä»¤çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ˆé’©å­å‡½æ•°ï¼‰ï¼š</p>
<ul>
<li>bind åªè°ƒç”¨ä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡ç»‘å®šå…ƒç´ è¢«è°ƒç”¨ï¼Œåˆå§‹åŒ–æ“ä½œ</li>
<li>inserted è¢«ç»‘å®šå…ƒç´ æ’å…¥äº†çˆ¶èŠ‚ç‚¹</li>
<li>update è¢«ç»‘å®šçš„å…ƒç´ æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨</li>
<li>componentUpdated è¢«ç»‘å®šçš„å…ƒç´ æ¨¡æ¿å®Œæˆä¸€æ¬¡ç”Ÿå‘½å‘¨æœŸ</li>
<li>unbind æŒ‡ä»¤å’Œè¢«ç»‘å®šå…ƒç´ è§£ç»‘æ—¶è°ƒç”¨</li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;Vue.directive è‡ªå®šä¹‰æ ‡ç­¾&lt;/title&gt;
  &lt;style&gt;
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id='app'&gt;
    &lt;p v-color=&quot;setRed&quot;&gt;æˆ‘è¦çº¢&lt;/p&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;script src=&quot;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
window.onload = function () {
    Vue.directive('color', function(el, binding, vnode){ // è¿™é‡Œçš„ color æŒ‡çš„æ˜¯ v-color çš„ colorï¼Œè¡¨ç¤ºæŒ‡ä»¤å
      console.log('el', el) // &lt;p style=&quot;color: red;&quot;&gt;æˆ‘è¦çº¢&lt;/p&gt;
      el.style = &quot;color:&quot; + binding.value // binding.value è¡¨ç¤ºæŒ‡ä»¤ç»‘å®šçš„å€¼ï¼Œè¿™é‡ŒæŒ‡ setRed
    });

    new Vue({
      el: '#app', // æ ¹æ®å±æ€§ç»‘å®š
      data:{
        setRed: 'red'
      }
    })
  }
&lt;/script&gt;
&lt;/html&gt;
</code></pre>
<p><strong>Vue.set</strong><br>
å…¨å±€æ“ä½œï¼ŒVue ä¸å…è®¸åœ¨å·²åˆ›å»ºçš„å®ä¾‹ä¸ŠåŠ¨æ€æ·»åŠ æ–°çš„æ ¹çº§å“åº”å¼å±æ€§ï¼Œä½†å¯ä»¥ç”¨ Vue.set æ–¹æ³•å°†å“åº”å¼å±æ€§æ·»åŠ åˆ°åµŒå¥—çš„å¯¹è±¡ä¸Š<br>
ä¸‹é¢çš„ä¾‹å­å¯ä»¥å‘ç°ï¼Œdata çš„æ•°æ®æ˜¯æ•°ç»„æˆ–å¯¹è±¡æ—¶ï¼Œè°ƒç”¨ change è™½ç„¶ä¿®æ”¹äº† fruit çš„å€¼ï¼Œä½†è§†å›¾å¹¶ä¸ä¼šæ›´æ–°ï¼ˆå¤±å»äº†getter/setterï¼‰ï¼Œè€Œè°ƒç”¨ Vue.set(target, key, value) åˆ™ä¼šæ›´æ–°è§†å›¾ï¼Œè¯´æ˜å®ƒèƒ½å¤Ÿå‘å“åº”å¼å¯¹è±¡ä¸­æ·»åŠ å±æ€§ï¼Œå¹¶ç¡®ä¿è¿™ä¸ªæ–°å±æ€§åŒæ ·æ˜¯å“åº”å¼çš„ï¼Œä¸”è§¦å‘è§†å›¾æ›´æ–°</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;Vue.set å…¨å±€æ“ä½œ&lt;/title&gt;
  &lt;style&gt;
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id='app'&gt;
    &lt;p v-for=&quot;item in fruit&quot;&gt;{{ item }}&lt;/p&gt;
    &lt;!-- v-on çš„äº‹ä»¶å¤„ç†æ–¹æ³•åœ¨ Vue å®ä¾‹å†…çš„ methods å£°æ˜ï¼Œä¹Ÿå¯ä»¥åœ¨å®ä¾‹å¤–å£°æ˜å‡½æ•°ï¼Œå‰è€…ä¸ç”¨åŠ æ‹¬å·ï¼Œåè€…éœ€è¦ --&gt;
    &lt;button v-on:click=&quot;change&quot;&gt;å˜&lt;/button&gt;
    {{ fruit }}
  &lt;/div&gt;
  &lt;!-- onclick äº‹ä»¶ä¸èƒ½è°ƒç”¨ Vue å®ä¾‹å†…çš„ methods --&gt;
  &lt;button onclick=&quot;add()&quot;&gt;å¤–éƒ¨æ·»åŠ &lt;/button&gt;
&lt;/body&gt;
&lt;script src=&quot;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  function add(){
    Vue.set(app.fruit, 1, 'melon');
  }
  var app = new Vue({
    el: '#app',
    data: {
      fruit: ['apple', 'banana', 'pear', 'grape']
    },
    methods: {
      change: function () {
        this.fruit[1] = 'melon'
        console.log(this.fruit) // ['apple', 'melon', 'pear', 'grape']
      }
    }
  })
&lt;/script&gt;
&lt;/html&gt;
</code></pre>
<p><strong>Vue.filter</strong><br>
å…¨å±€è¿‡æ»¤å™¨ï¼Œæ³¨æ„å£°æ˜è¿‡æ»¤å™¨å¿…é¡»æ”¾åœ¨<strong>å£°æ˜å®ä¾‹ app ä¹‹å‰</strong>ï¼Œå¦åˆ™ä¸è¢«æ³¨å…¥å®ä¾‹ä¸­<br>
è¿‡æ»¤å™¨å¯ç”¨åœ¨æ’å€¼è¡¨è¾¾å¼ {{ message | filter}} å’Œ v-bind ä¸­ v-bind:msg=&quot;message | filter&quot;</p>
<pre><code class="language-js">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;Vue.filter è¿‡æ»¤å™¨&lt;/title&gt;
  &lt;style&gt;
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id='app'&gt;
    &lt;p&gt;{{ count | sum }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;script src=&quot;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  Vue.filter(&quot;sum&quot;, function(value) { //å£°æ˜ sum è¿‡æ»¤å™¨
    return value + 4;
  });

  var app = new Vue({
    el: '#app',
    data: {
      count: 20
    },
  })
&lt;/script&gt;
&lt;/html&gt;
</code></pre>
<p><strong>Vue.nextTick</strong><br>
åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„ DOM<br>
åº”ç”¨åœºæ™¯ï¼šéœ€è¦åœ¨è§†å›¾æ›´æ–°ä¹‹åï¼ŒåŸºäºæ–°çš„è§†å›¾è¿›è¡Œæ“ä½œ</p>
<h2 id="vue-ç”Ÿå‘½å‘¨æœŸå‡½æ•°">Vue ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h2>
<p>å¯¹äºå•é¡µé¢å¼€å‘æ¨¡å¼ï¼Œæ¯ä¸ªé¡µé¢éƒ½å¯ä»¥ç†è§£ä¸ºä¸€ä¸ª Vue ç»„ä»¶ï¼Œåœ¨å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œéƒ½æœ‰å¯¹åº”çš„é’©å­å‡½æ•°ï¼š</p>
<ul>
<li>beforeCreate åœ¨ç»„ä»¶åˆ›å»ºä¹‹å‰</li>
<li>created åœ¨ç»„ä»¶åˆ›å»ºä¹‹åï¼Œä¸€èˆ¬ç”¨äºåˆå§‹åŒ–ä¸€äº›å›ºå®šæ•°æ®</li>
<li>beforeMount åœ¨ DOM èŠ‚ç‚¹æ¸²æŸ“ä¹‹å‰</li>
<li>mounted åœ¨ DOM èŠ‚ç‚¹æ¸²æŸ“å®Œåé™¤æ³•ï¼Œå¸¸é€šè¿‡ ajax è·å–æœåŠ¡ç«¯çš„æ•°æ®</li>
<li>beforeUpdate æ•°æ®æ›´æ–°æ—¶è°ƒç”¨ï¼Œé€‚ç”¨äºåœ¨æ›´æ–°ä¹‹å‰è®¿é—®ç°æœ‰çš„ DOM</li>
<li>updated DOM å·²ç»æ›´æ–°ï¼Œæ‰§è¡Œä¾èµ–äº DOM çš„æ“ä½œ</li>
<li>activated è¢« keep-alive ç¼“å­˜çš„ç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨</li>
<li>deactivated è¢« keep-alive ç¼“å­˜çš„ç»„ä»¶åœç”¨æ—¶è°ƒç”¨</li>
<li>beforeDestroy å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œè¿™ä¸€æ­¥å®ä¾‹ä»å®Œå…¨å¯ç”¨</li>
<li>destroyed å®ä¾‹é”€æ¯åè°ƒç”¨ï¼Œä¸€èˆ¬ç”¨äºé”€æ¯é¡µé¢å†…åˆ›å»ºçš„ setTimeout ç­‰å˜é‡ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</li>
</ul>
<h2 id="vue-router">Vue-Router</h2>
<p>Vue å®˜æ–¹æä¾›çš„è·¯ç”±æ’ä»¶</p>
<p><strong>ä¼ ç»Ÿé¡µé¢ä¸å•é¡µé¢è·³è½¬çš„åŒºåˆ«</strong></p>
<ul>
<li>ä¼ ç»Ÿé¡µé¢ï¼šä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ï¼Œè·¯ç”±ä¸€èˆ¬æ˜¯ç”±è¶…é“¾æ¥ï¼ˆa æ ‡ç­¾ï¼‰æ¥æ§åˆ¶é¡µé¢çš„è·³è½¬ä¸åˆ‡æ¢ï¼Œæ¯æ¬¡è·³è½¬éœ€è¦åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œä½“éªŒä¸Šä¸å¦‚å•é¡µæ¨¡å¼</li>
<li>å•é¡µé¢ï¼šVue çš„å•é¡µé¢æ˜¯åŸºäºç»„ä»¶å’Œè·¯ç”±çš„é…åˆï¼Œæ‰€æœ‰çš„é¡µé¢éƒ½å¯ä»¥è§†ä¸ºç»„ä»¶ï¼Œè·¯ç”±æ§åˆ¶è®¿é—®è·¯å¾„ï¼Œæ¯ä¸€ä¸ªè·¯å¾„æ˜ å°„ä¸€ä¸ªç»„ä»¶ã€‚å•é¡µæ¨¡å¼ä¸­æ— æ³•ä½¿ç”¨ a æ ‡ç­¾è¿›è¡Œè·¯ç”±è·³è½¬ï¼Œå› ä¸ºå•é¡µæ¨¡å¼æœ¬è´¨ä¸Šå°±åªæœ‰ä¸€ä¸ª index.html é¡µé¢ã€‚æ‰€æœ‰çš„é¡µé¢ç»„ä»¶éƒ½æ”¾åœ¨æ‰“åŒ…å¥½çš„ js æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥è¦ä½¿ç”¨ Vue-Router çš„è·¯ç”±ç»„ä»¶å®ç°è·³è½¬</li>
</ul>
<p><strong>è·¯ç”±æ¨¡å¼</strong><br>
Vue-Router æä¾›äº†ä¸‰ç§è·¯ç”±æ¨¡å¼ï¼š</p>
<ul>
<li>Hash æ¨¡å¼</li>
<li>History æ¨¡å¼</li>
<li>abstract æ¨¡å¼</li>
</ul>
<p><strong>Hash æ¨¡å¼</strong><br>
Vue-Router çš„é»˜è®¤æ¨¡å¼ï¼Œç‰¹ç‚¹æ˜¯ URL å§‹ç»ˆå¸¦ç€ #ï¼Œå®ƒä¸ä¼šå‘èµ·å¯¹æœåŠ¡ç«¯çš„è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šé‡åŠ è½½é¡µé¢ã€‚æµè§ˆå™¨çš„åŸç”Ÿæ–¹æ³•æä¾›äº†ä¸€ä¸ªç›‘å¬äº‹ä»¶ hashchangeï¼Œå®ƒèƒ½ç›‘å¬åˆ°ä¸‹é¢çš„æ”¹å˜ï¼š</p>
<ul>
<li>ç‚¹å‡» a æ ‡ç­¾æ”¹å˜ URL åœ°å€</li>
<li>æµè§ˆå™¨çš„å‰è¿›åé€€è¡Œä¸º</li>
<li>é€šè¿‡ window.location æ–¹æ³•æ”¹å˜åœ°å€æ </li>
</ul>
<p>å½“åˆå§‹çš„ html æ–‡æ¡£è¢«å®Œå…¨åŠ è½½å’Œè§£æå®Œæˆä¹‹åï¼ŒDOMContentLoaded äº‹ä»¶è¢«è§¦å‘ï¼Œæ— éœ€ç­‰å¾…æ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶å®ŒæˆåŠ è½½ã€‚ç”±äº hashchange ä¸ä¼šè¢«é»˜è®¤è§¦å‘ï¼Œå› æ­¤éœ€è¦åœ¨ DOMContentLoaded è¢«è§¦å‘æ—¶æ‰§è¡Œä¸€æ¬¡ hashchange ç›‘å¬æ–¹æ³•è¦æ‰§è¡Œçš„å‡½æ•° HashChangeã€‚ä¹‹ååœ¨ç‚¹å‡» a æ ‡ç­¾æ”¹å˜ URL åœ°å€æ—¶ä¼šè§¦å‘ hashchange äº‹ä»¶ï¼Œè·å–åˆ° location.hashï¼Œæ‰§è¡Œçš„ HashChange å‡½æ•°é€šè¿‡åˆ¤æ–­ location.hash çš„å€¼æ¥åŒ¹é…ç›¸åº”çš„ç»„ä»¶ï¼Œç®€æ˜“çš„å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Hash æ¨¡å¼&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div&gt;
        &lt;ul&gt;
            &lt;li&gt;&lt;a href=&quot;#/page1&quot;&gt;page1&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;#/page2&quot;&gt;page2&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
        &lt;div id=&quot;route-view&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    // è¿™ä¸¤ä¸ªäº‹ä»¶åæ˜¯ç¡®å®šçš„ï¼Œå‡½æ•°åå¯ä»¥æ”¹
    window.addEventListener('DOMContentLoaded', Load);
    window.addEventListener('hashchange', HashChange);
    var routeView = null;
    function Load() {
        routeView = document.getElementById('route-view');
        HashChange();
    }
    function HashChange() {
        switch(location.hash) {
            case '#/page1':
                routeView.innerHTML = 'æˆ‘æ˜¯page1';
                return;
            case '#/page2':
                routeView.innerHTML = 'æˆ‘æ˜¯page2';
                return;
            default:
                routeView.innerHTML = 'æˆ‘æ˜¯page1';
                return;
        }
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>History æ¨¡å¼</strong><br>
ä½¿ç”¨ History æ¨¡å¼æ˜¯ä½¿ç”¨ html5 çš„ history APIå®ç°è·¯ç”±çš„æ¨¡å¼ï¼Œè¡¨ç°æ˜¯å»é™¤äº† Hash æ¨¡å¼ä¸­ URL çš„ #ï¼Œä½¿ URL æ¯”è¾ƒå¥½çœ‹ã€‚æ§åˆ¶è·¯ç”±ä¼šæœ‰ä¸€äº›éº»çƒ¦ï¼Œæ ¹æœ¬åŸå› æ˜¯ä½¿ç”¨ History æ¨¡å¼ï¼Œpopstate ç›‘å¬äº‹ä»¶æ— æ³•ç›‘å¬åˆ° pushStateã€replaceState(å‰è€…æ–°å»ºè®°å½•ï¼Œåè€…ä¿®æ”¹è®°å½•)ã€a æ ‡ç­¾ä¸‰ç§å½¢å¼çš„å˜åŒ–ï¼Œå¯ä»¥ç›‘å¬åˆ°æµè§ˆå™¨çš„å‰è¿›å’Œåé€€ã€‚<br>
ä¸ºäº†å®ç°è·¯ç”±ï¼Œå¯ä»¥å¦‚ä¸‹åšï¼š</p>
<ol>
<li>éå†é¡µé¢ä¸Šçš„æ‰€æœ‰ a æ ‡ç­¾ï¼Œé˜»æ­¢å…¶é»˜è®¤äº‹ä»¶ï¼ŒåŒæ—¶åŠ ä¸Šç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­è·å– a æ ‡ç­¾çš„ href å±æ€§å€¼</li>
<li>é€šè¿‡ pushState æ”¹å˜æµè§ˆå™¨çš„ location.pathname å±æ€§å€¼ä¸º a æ ‡ç­¾çš„ href å±æ€§å€¼</li>
<li>æ‰‹åŠ¨æ‰§è¡Œ popstate äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼ŒåŒ¹é…ç›¸åº”çš„è·¯ç”±</li>
</ol>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;History æ¨¡å¼&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div&gt;
        &lt;ul&gt;
            &lt;li&gt;&lt;a href=&quot;/page1&quot;&gt;page1&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;/page2&quot;&gt;page2&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
        &lt;div id=&quot;route-view&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        window.addEventListener('DOMContentLoaded', Load);
        window.addEventListener('popstate', PopChange);
        var routeView = null;
        function Load() {
            routeView = document.getElementById('route-view');
            PopChange();
            // è·å–æ‰€æœ‰å¸¦æœ‰ href å±æ€§çš„ a æ ‡ç­¾
            var aList = document.querySelectorAll('a[href]')
            // éå†æ ‡ç­¾ï¼Œæ·»åŠ ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œå‚æ•° e ä»£è¡¨å½“å‰äº‹ä»¶
            aList.forEach(aNode =&gt; aNode.addEventListener('click', function(e) {
                // é˜»æ­¢é»˜è®¤äº‹ä»¶
                e.preventDefault();
                // è·å– href å±æ€§å€¼
                var href = aNode.getAttribute('href');
                // pushState(state, title. url)ï¼Œstate å¯¹è±¡ä¸éœ€è¦å¯å¡« nullï¼Œtitle è¡¨ç¤ºæ–°é¡µé¢çš„æ ‡é¢˜ï¼Œurl æ˜¯æ–°é¡µé¢çš„ç½‘å€
                //è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯åœ¨ history å¯¹è±¡ä¸­æ·»åŠ è®°å½•ï¼ŒåŒæ—¶æ”¹å˜åœ°å€æ ä¸ºæ–°çš„ url
                history.pushState(null, &quot;&quot;, href);
                // å› ä¸º popstate ç›‘å¬ä¸åˆ°åœ°å€æ çš„å˜åŒ–ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ PopChange
                PopChange();
            }));
        }
        function PopChange() {
            switch(location.pathname) {
                case '/page1' :
                    routeView.innerHTML = 'æˆ‘æ˜¯page1';
                    return;
                case '/page2' :
                    routeView.innerHTML = 'æˆ‘æ˜¯page2';
                    return;
                default :
                    routeView.innerHTML = 'æˆ‘æ˜¯page1';
                    return;
            }
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>history æ¨¡å¼ç›¸å¯¹äº hash æ¨¡å¼æ²¡æœ‰ #ï¼Œæ¯”è¾ƒç¬¦åˆå¼€å‘ä¹ æƒ¯ï¼Œä¹Ÿæ¯”è¾ƒå¥½çœ‹ï¼Œä½†ç”±äºæ˜¯ html5 æ–°å‡ºçš„ apiï¼Œæ‰€ä»¥ä¸æƒ³ hash æ¨¡å¼å¯ä»¥å…¼å®¹ä½ç‰ˆæœ¬ã€‚å¹¶ä¸” history åœ¨è®¿é—®äºŒçº§é¡µé¢çš„æ—¶å€™åˆ·æ–°ç½‘é¡µä¼šå‡ºç° 404 é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºåˆ·æ–°ç½‘é¡µç›¸å½“äºå‘æœåŠ¡ç«¯å‘é€äº†ä¸€æ¬¡ GET è¯·æ±‚ï¼Œè€ŒæœåŠ¡ç«¯å¹¶æ²¡æœ‰å®šä¹‰è¿™æ ·çš„æ¥å£ï¼Œæ‰€ä»¥ history æ¨¡å¼éœ€è¦æœåŠ¡ç«¯é…åˆè¿›è¡Œè·¯ç”±å¤„ç†ï¼Œæ¯”å¦‚é‡å®šå‘å›é¦–é¡µè·¯ç”±</p>
<p><strong>abstract æ¨¡å¼</strong><br>
é’ˆå¯¹æ²¡æœ‰æµè§ˆå™¨ç¯å¢ƒçš„æƒ…å†µï¼Œæ²¡æœ‰æµè§ˆå™¨çš„ APIï¼Œå°±ä¼šå¼ºåˆ¶åˆ‡æ¢åˆ° abstract æ¨¡å¼ï¼ˆæ¯”å¦‚ Weexï¼‰<br>
å¦‚æœåœ¨ Vue-Router çš„é…ç½®é¡¹ä¸­ä¸å¡«å†™ mode çš„å€¼ï¼Œåˆ™åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹é»˜è®¤ Hash æ¨¡å¼ï¼Œç§»åŠ¨å®¢æˆ·ç«¯ç¯å¢ƒä¸‹ä½¿ç”¨ abstract æ¨¡å¼</p>
<p><strong>å¼•å…¥ä¸ä½¿ç”¨</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;!-- å¼•å…¥é™æ€èµ„æº --&gt;
  &lt;script src=&quot;https://cdn.bootcss.com/vue/2.6.11/vue.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdn.bootcss.com/vue-router/3.1.3/vue-router.min.js&quot;&gt;&lt;/script&gt;
  &lt;title&gt;Vue Router&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;ul&gt;
      &lt;!-- ä½¿ç”¨ router-link ç»„ä»¶æ¥å¯¼èˆª. --&gt;
      &lt;!-- é€šè¿‡ä¼ å…¥ to å±æ€§æŒ‡å®šé“¾æ¥. --&gt;
      &lt;!-- &lt;router-link&gt; é»˜è®¤ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ª &lt;a&gt; æ ‡ç­¾ --&gt;
      &lt;router-link to=&quot;/page1&quot;&gt;Go to Page1&lt;/router-link&gt;
      &lt;br/&gt;
      &lt;router-link to=&quot;/page2&quot;&gt;Go to Page2&lt;/router-link&gt;
    &lt;/ul&gt;
    &lt;!-- è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å°†æ¸²æŸ“åœ¨&lt;router-view&gt; --&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
    // 1. å®šä¹‰ (è·¯ç”±) ç»„ä»¶
    // å¯ä»¥ä»å…¶ä»–æ–‡ä»¶ import è¿›æ¥ï¼Œè¿™é‡Œç®€å•å†™
    const Page1 = { template: '&lt;div&gt;Page1&lt;/div&gt;' }
    const Page2 = { template: '&lt;div&gt;Page2&lt;/div&gt;' }
    // 2. å®šä¹‰è·¯ç”±
    // æ¯ä¸ªè·¯ç”±åº”è¯¥æ˜ å°„ä¸€ä¸ªç»„ä»¶ï¼Œå…¶ä¸­ component å¯ä»¥æ˜¯é€šè¿‡ Vue.extend() åˆ›å»ºçš„ç»„ä»¶æ„é€ å™¨ï¼Œæˆ–è€…åªæ˜¯ä¸€ä¸ªç»„ä»¶é…ç½®å¯¹è±¡
    const routes = [
      { path: '/page1', component: Page1 },
      { path: '/page2', component: Page2 }
    ]
    // 3. åˆ›å»º router å®ä¾‹ï¼Œç„¶åä¼  routes é…ç½®
    const router = new VueRouter({
      routes: routes
    })
    // 4. åˆ›å»ºå’ŒæŒ‚è½½æ ¹å®ä¾‹
    // è¦é€šè¿‡ router é…ç½®å‚æ•°æ³¨å…¥è·¯ç”±ï¼Œä»è€Œè®©æ•´ä¸ªåº”ç”¨éƒ½æœ‰è·¯ç”±åŠŸèƒ½
    const app = new Vue({
      router: router
    }).$mount('#app')
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><strong>è·å–å…¨å±€è·¯ç”±è·³è½¬å‚æ•°çš„å˜åŒ–</strong><br>
åŒä¸€åœ¨å…¥å£é¡µé¢é€šè¿‡ watch $route å¯¹è±¡å®ç°ï¼Œåœ¨ä¸Šé¢ä»£ç çš„åŸºç¡€ä¸Šä¿®æ”¹ï¼Œå¯ä»¥æ‹¿åˆ° to å’Œ from ä¸¤ä¸ªå‚æ•°ï¼Œto ä»£è¡¨è·³è½¬åçš„é¡µé¢å‚æ•°ï¼Œfrom ä»£è¡¨ä»é‚£ä¸ªé¡µé¢è·³è½¬æ¥çš„ï¼Œé€šè¿‡è¿™ä¸¤ä¸ªå‚æ•°å°±èƒ½å¤Ÿè®¾ç½®ä¸€çº§äºŒçº§é¡µé¢ï¼Œåˆ¶ä½œè¿‡åœºåŠ¨ç”»</p>
<pre><code class="language-html">&lt;script type=&quot;text/javascript&quot;&gt;
const app = new Vue({
      router: router,
      watch: {
          // $ å‰ç¼€æ˜¯è®©è®©ç³»ç»Ÿçš„å±æ€§ä¸ç”¨æˆ·å®šä¹‰çš„å±æ€§åŒºåˆ†å¼€æ¥
        $route(to, from) {
            console.log('to', to);
            console.log('form', from);
        }
      }
    }).$mount('#app')
&lt;/script&gt;
</code></pre>
<p><strong>è·¯ç”±ä¼ å‚</strong><br>
Page1 è·³è½¬åˆ° Page2ï¼ŒPage1é€šè¿‡ <router-link> ä¼ å‚ï¼š</p>
<pre><code class="language-html">&lt;!-- æ³¨æ„ to å‰é¢éœ€è¦åŠ  : å³ä½¿ç”¨äº† v-bind --&gt;
&lt;router-link :to=&quot;{path: '/page1', query: { id: 123 }}&quot;&gt;Go to Page1&lt;/router-link&gt;
</code></pre>
<p>æ¥æ”¶å‚æ•°ï¼š</p>
<pre><code class="language-js">const Page1 = { template: '&lt;div&gt;Page1 {{ $route.query.id }}&lt;/div&gt;'}
</code></pre>
<p>è¿˜æœ‰å¦ä¸€ç§æ–¹å¼ï¼š</p>
<pre><code class="language-html">&lt;!-- æ³¨æ„ to å‰é¢éœ€è¦åŠ  : å³ä½¿ç”¨äº† v-bind --&gt;
&lt;router-link :to=&quot;{path: '/page1/123'}&quot;&gt;Go to Page1&lt;/router-link&gt;
</code></pre>
<pre><code class="language-js">// è¿™é‡Œä¸æ˜¯ query è€Œæ˜¯ params
const Page1 = { template: '&lt;div&gt;Page1 {{ $route.params.id }}&lt;/div&gt;'}
// è¿˜éœ€è¦ä¿®æ”¹ routes
const routes = [
    { path: 'page1/:id', component: Page1 },
    { path: '/page2', component: Page2 }
]
</code></pre>
<p><strong>é‡å®šå‘é¡µé¢</strong><br>
è¾“å…¥ä¸€ä¸ªä¸å­˜åœ¨çš„è·¯ç”±ï¼ŒVue-Router å°±ä¼šæ— æ³•åŒ¹é…åˆ°ï¼Œè¿™æ—¶å€™åº”å½“é»˜è®¤è¿”å›é¦–é¡µï¼Œå°±éœ€è¦ç”¨åˆ°é‡å®šå‘åŒ¹é…ï¼Œåœ¨ * ä¸Šé¢çš„è·¯å¾„éƒ½æ²¡è¢«åŒ¹é…åˆ°æ—¶ï¼Œé‡å®šå‘è‡³ /page1 å¯¹åº”çš„ç»„ä»¶</p>
<pre><code class="language-js">const routes = [
    { path: '/page1', component: Page1 },
    { path: '/page2', component: Page2 },
    {path: '*', redirect: '/page1'}
]
</code></pre>
<h2 id="vuex">Vuex</h2>
<p>Vuex æ˜¯ä¸€ä¸ªä¸“é—¨ä¸º Vue å¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œé›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€<br>
æ˜¯ç”¨äºç®¡ç† Vue åº”ç”¨è·¨ç»„ä»¶æ•°æ®çš„å·¥å…·</p>
<p><strong>Vuex ä¸ localStorageã€sessionStorage</strong><br>
è™½ç„¶ localStorage å­˜å‚¨æ—¶é™é•¿ï¼Œä½†æ¯”è¾ƒé€‚åˆå­˜ä¸€äº›ä¸æ€ä¹ˆå˜åŒ–çš„æ•°æ®ï¼Œåœ¨ Vue ä¸­ä¸åŒç»„ä»¶å…±ç”¨çš„æ•°æ®ï¼Œç»„ä»¶éœ€è¦å“åº”å¦ä¸€ä¸ªç»„ä»¶å¯¹æ•°æ®çš„ä¿®æ”¹ï¼Œå°±éœ€è¦ Vuex</p>
<ul>
<li>Vuexï¼šå­˜å‚¨åœ¨æµè§ˆå™¨å†…å­˜ï¼Œé›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œä¸åˆ·æ–°é¡µé¢åˆ™çŠ¶æ€ä¼šä¸€ç›´ä¿æŒï¼Œåˆ·æ–°ç½‘é¡µåˆ™çŠ¶æ€é‡ç½®</li>
<li>sessionStorageï¼šä¼šè¯å‹å­˜å‚¨ï¼Œç”¨äºä¿å­˜åŒä¸€çª—å£æˆ–æ ‡ç­¾é¡µçš„æ•°æ®ï¼Œæ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œå…³é—­çª—å£æˆ–æ ‡ç­¾é¡µååˆ é™¤æ•°æ®ï¼Œå°±åƒäººä¹‹é—´çš„ä¼šè¯ï¼Œäººèµ°äº†ä¼šè¯å°±ç»“æŸäº†</li>
<li>localStorageï¼šæŒä¹…æ€§å­˜å‚¨ï¼Œä¸ sessionStorage ç±»ä¼¼ï¼Œä¸è¿‡å¯ä»¥ä¸€ç›´å­˜å‚¨æ•°æ®åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œç›´åˆ°ä¸»åŠ¨æ¸…é™¤æˆ–é‡è£…æµè§ˆå™¨</li>
</ul>
<p><strong>å•å‘æ•°æ®æµ</strong><br>
æ ¹æ®ä¸€å®šè§„åˆ™æ”¹å˜æ•°æ®ï¼Œæ•°æ®è§¦å‘è§†å›¾çš„æ›´æ–°ï¼Œé€šè¿‡è§†å›¾ä¸­çš„æ–¹æ³•è§¦å‘æ•°æ®çš„æ›´æ–°çš„é—­ç¯<br>
<img src="https://AriesSK.github.io/post-images/1657809170855.png" alt="" loading="lazy"><br>
ä½†å®é™…åº”ç”¨ä¸­å¾€å¾€æœ‰å¤šç»„ä»¶å…±äº«çŠ¶æ€ï¼Œè¿™æ ·ä¸åŒè§†å›¾çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€ä¸ªçŠ¶æ€ï¼Œè¿™å°±ç ´åäº†å•å‘æ•°æ®æµ<br>
è¿™äº›å¤æ‚çš„åº”ç”¨åœºæ™¯å°±éœ€è¦ä¾é  Vuex æ¥è§£å†³<br>
<img src="https://AriesSK.github.io/post-images/1657809816279.png" alt="" loading="lazy"><br>
è™šçº¿æ¡†ä¸­çš„éƒ¨åˆ†å°±æ˜¯ Vuex ç”Ÿæ•ˆçš„éƒ¨åˆ†ï¼ŒVue ç»„ä»¶é€šè¿‡ Dispatch å…³é”®å­—è§¦å‘ Actionsï¼Œå†é€šè¿‡ Commit è°ƒç”¨ Mutation é‡Œçš„æ–¹æ³•ä¿®æ”¹ State æ•°æ®ï¼Œç»„ä»¶ä¸­å¦‚æœæœ‰ä¾èµ– Store é‡Œçš„æ•°æ®ï¼Œå°±è§¦å‘ Render é‡ç»˜ï¼Œå½¢æˆäº†ä¸€ä¸ªé—­ç¯</p>
<p><strong>State</strong><br>
æ‰€æœ‰çŠ¶æ€éƒ½è¢«å­˜æ”¾åœ¨ State ä¸­ï¼Œç±»ä¼¼ Vue ç»„ä»¶ä¸­çš„ data å±æ€§ï¼ŒState é¢å‘æ•´ä¸ªåº”ç”¨ï¼Œdata é’ˆå¯¹å•ä¸ªç»„ä»¶ã€‚åœ¨ Vue å…¥å£é¡µæ„é€  Vue å®ä¾‹çš„æ—¶å€™å¼•å…¥ storeï¼Œå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­é€šè¿‡ this.$store.state æ‹¿åˆ°</p>
<p><strong>Getter</strong><br>
ç±»ä¼¼äº Vue ç»„ä»¶ä¸­çš„ computed å±æ€§ï¼Œè®¡ç®—ä¸€äº›éœ€è¦äºŒæ¬¡æ”¹é€ çš„æ•°æ®ï¼Œæ¯”å¦‚ä½¿ç”¨ filter è¿‡æ»¤ï¼Œå¯ä»¥åœ¨ store ä¸­å®šä¹‰ getter å±æ€§ï¼Œstate æ•°æ®ä½œä¸ºå‚æ•°ä¼ å…¥ï¼š</p>
<pre><code class="language-js">const store = new Vuex.Store({
    state: {
        todos: [
            { id: 1, text: '...', done: true },
            { id: 2, text: '...', done: false }
        ]
    },
    getters: {
        doneTodos: state =&gt; {
            return state.todos.filter(todo =&gt; todo.done);
        },
        // è¿˜å¯ä»¥æ¥æ”¶å…¶ä»– getters ä½œä¸ºå‚æ•°
        doneTodesCount: (state, getters) =&gt; {
            return getters.doneTodos.length; // 1
        }
    }
})
</code></pre>
<p>åœ¨ç»„ä»¶ä¸­é€šè¿‡å¦‚ä¸‹è®¿é—®ï¼š</p>
<pre><code class="language-js">this.$store.getters.doneTodos; // [{ id: 1, text: '...', done: true }]
</code></pre>
<p><strong>Mutation</strong><br>
ä¿®æ”¹ State çŠ¶æ€éœ€è¦è§¦å‘ä¸€äº›æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ”¾åœ¨ mutations å±æ€§ä¸­ï¼Œmutations å±æ€§ä¸­çš„æ–¹æ³•èƒ½å¤Ÿæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ stateï¼ŒåŒ…å«æ‰€æœ‰çš„çŠ¶æ€å€¼ï¼›ç¬¬äºŒä¸ªæ˜¯æäº¤è½½è· Payloadï¼Œåœ¨å¤–éƒ¨é€šè¿‡ store.commit æ–¹æ³•è§¦å‘ mutations æ—¶é¢å¤–å¸¦å…¥çš„å€¼ï¼š</p>
<pre><code class="language-js">const store = new Vuex.Store({
    state: {
        count: 1
    },
    mutations: {
        increment (state) {
            state.count++;
        }
    }
})
store.commit('increment'); // æ— è½½è·è§¦å‘

const store = new Vuex.Store({
    state: {
        count: 1
    },
    mutations: {
        increment (state, n) {
            state.count += n;
        }
    }
})
store.commit('increment', 10); // å¸¦è½½è·è§¦å‘
</code></pre>
<p><strong>Action</strong><br>
ä¸ Mutation ç±»ä¼¼ï¼Œä¸è¿‡ Action æ˜¯æäº¤ mutation è€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹ Stateã€‚Action æœ‰å¼‚æ­¥çš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿåœ¨è¯·æ±‚å¼‚æ­¥æ•°æ®åå†è§¦å‘çŠ¶æ€çš„æ›´æ–°ï¼š</p>
<pre><code class="language-js">const store = new Vuex.Store({
  state: {
    count: 0
  },
  mutations: {
    increment (state, data) {
      state.count += data.length;
    }
  },
  actions: {
    // å®šä¹‰ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œç­‰å¾… getData è·å€¼åç»§ç»­æ‰§è¡Œ commit
    async increment (ctx) {
      const data = await getData();
      ctx.commit('increment', data);
    }
  }
})
store.dispatch('increment'); // åˆ†å‘ Action
</code></pre>
<p><strong>Module</strong><br>
ç»™çŠ¶æ€åˆ†æ¨¡å—ç®¡ç†ï¼š</p>
<pre><code class="language-js">// æ¨¡å— A çš„çŠ¶æ€åŠè§¦å‘æ›´æ–°çš„æ–¹æ³•
const moduleA = {
  state: { ... },
  mutations: { ... },
  actions: { ... },
  getters: { ... }
}           
// æ¨¡å— B çš„çŠ¶æ€åŠè§¦å‘æ›´æ–°çš„æ–¹æ³•
const moduleB = {
  state: { ... },
  mutations: { ... },
  actions: { ... }
}
// modules æ–¹æ³•å¯ä»¥å°† store åˆ†å‰²æˆæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å¯ä»¥å®šä¹‰è‡ªå·±çš„ stateã€getterã€mutationã€action
const store = new Vuex.Store({
  modules: {
    a: moduleA,
    b: moduleB
  }
})
store.state.a // moduleA çš„çŠ¶æ€
store.state.b // moduleB çš„çŠ¶æ€
</code></pre>
<p><strong>å®ä¾‹</strong><br>
å¼•å…¥é™æ€èµ„æºæ—¶ï¼ŒVuex è¦åœ¨ Vue çš„<strong>åé¢</strong>ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸º Vuex å†…éƒ¨ä¾èµ– Vue<br>
é€šè¿‡ Vuex.Store ç”Ÿæˆå®ä¾‹å»ºè®®ä½¿ç”¨<code>strict: true</code>ä¸¥æ ¼æ¨¡å¼ï¼Œå‡å°‘ä»£ç ç´Šä¹±<br>
ä½¿ç”¨ Mutation ç›´æ¥ä¿®æ”¹çŠ¶æ€ï¼š</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;script src=&quot;https://cdn.bootcss.com/vue/2.6.11/vue.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdn.bootcss.com/vuex/3.1.3/vuex.min.js&quot;&gt;&lt;/script&gt;
  &lt;title&gt;Vuex&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;div&gt;{{ $store.state.count }}&lt;/div&gt;
    &lt;button @click=&quot;add&quot;&gt;åŠ 1&lt;/button&gt;
    &lt;button @click=&quot;dec&quot;&gt;å‡1&lt;/button&gt;
  &lt;div&gt;
  &lt;script&gt;
    const store = new Vuex.Store({
      state: {
        count: 0
      },
      // å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œå¼€å¯ä¸¥æ ¼æ¨¡å¼åï¼Œå¿…é¡»é€šè¿‡ mutation æ¥ä¿®æ”¹çŠ¶æ€ã€‚
      strict: true,
      // è§¦å‘ state ä¸­çš„ count åŠ å‡è¿ç®—çš„æ–¹æ³•
      mutations: {
        add(state) {
          state.count += 1
        },
        dec(state) {
          state.count -= 1
        }
      },
      getters: {
        // è¿‡æ»¤å¶æ•°çš„ getterï¼Œæ²¡ç”¨åˆ°
        filterEven: state =&gt; {
          return !(state.count % 2)
        }
      }
    })
    const app = new Vue({
      el: '#app',
      store, // å°† Vuex ç”Ÿæˆçš„å®ä¾‹ä½œä¸º Vue ç”Ÿæˆå®ä¾‹çš„å‚æ•°
      data: {
        message: 'Hello Vue!'
      },
      methods: {
        add() {
          this.$store.commit('add')
        },
        dec() {
          this.$store.commit('dec')
        }
      }
    }).$mount('#app');
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>ä½¿ç”¨ Action å¼‚æ­¥æ”¹å˜çŠ¶æ€ï¼š</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;script src=&quot;https://cdn.bootcss.com/vue/2.6.11/vue.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdn.bootcss.com/vuex/3.1.3/vuex.min.js&quot;&gt;&lt;/script&gt;
  &lt;title&gt;Vuex&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;div&gt;{{ $store.state.count }}&lt;/div&gt;
    &lt;button @click=&quot;asyncAdd&quot;&gt;å¼‚æ­¥åŠ 1&lt;/button&gt;
    &lt;button @click=&quot;asyncDec&quot;&gt;å¼‚æ­¥å‡1&lt;/button&gt;
  &lt;div&gt;
  &lt;script&gt;
    // æ¨¡æ‹Ÿè¯·æ±‚æ•°æ®ï¼Œå»¶è¿Ÿ 2 ç§’è¿”å›æ•°æ®
    function AsyncData() {
        // Promise.resolve(x) ç”¨äºå°†å­—é¢é‡æˆ–å¯¹è±¡å°è£…æˆ Promise å®ä¾‹
      return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
          resolve(1)
        }, 2000)
      })
    }

    const store = new Vuex.Store({
      state: {
        count: 0
      },
      // å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œå¼€å¯ä¸¥æ ¼æ¨¡å¼å,å¿…é¡»é€šè¿‡ mutation æ¥ä¿®æ”¹çŠ¶æ€
      strict: true,
      mutations: {
        add(state, num) {
          state.count += num
        },
        dec(state, num) {
          state.count -= num
        }
      },
      actions: {
        // async await å¼‚æ­¥è·å–
        // async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡
        // å‚æ•° ctx æ˜¯ context çš„ç¼©å†™ï¼Œä»£è¡¨ç€ä¸Šä¸‹æ–‡
        async add(ctx) {
            // await æ˜¯ä¸ªè¿ç®—ç¬¦ï¼Œawait è¡¨è¾¾å¼çš„ç»“æœå–å†³äºåé¢çš„å†…å®¹
            // å¦‚æœåé¢ä¸æ˜¯ Promise å¯¹è±¡ï¼Œåˆ™è¡¨è¾¾å¼ç»“æœå°±æ˜¯åé¢çš„å†…å®¹
            // å¦‚æœåé¢æ˜¯ Promise å¯¹è±¡ï¼Œåˆ™é˜»å¡åé¢çš„ä»£ç ï¼Œç­‰å¾… Promise å¯¹è±¡ resolveï¼Œå¾—åˆ°å…¶å€¼ä½œä¸ºè¡¨è¾¾å¼çš„ç»“æœ
            // AsyncData() è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå› æ­¤ await ä¼šç­‰å¾…
          const num = await AsyncData()
          ctx.commit('add', num)
        },
        async dec(ctx) {
          const num = await AsyncData()
          ctx.commit('dec', num)
        }
      },
      getters: {
        filterOdd: state =&gt; {
          return !(state.count % 2)
        }
      }
    })
    const app = new Vue({
      el: '#app',
      store,
      data: {
        message: 'Hello Vue!'
      },
      methods: {
        asyncAdd() {
            // æ³¨æ„ä½¿ç”¨ Action è°ƒç”¨çš„æ˜¯ dispatch
          this.$store.dispatch('add')
        },
        asyncDec() {
          this.$store.dispatch('dec')
        }
      }
    }).$mount('#app');
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>ä¸æ˜¯æ‰€æœ‰é¡¹ç›®éƒ½è¦ç”¨ Vuexï¼Œå¯¹äºå°å‹çš„é¡¹ç›®åè€Œä¼šä½¿é¡¹ç›®å˜å¾—ç¹ç</p>
<h2 id="å‰ç«¯é‰´æƒ">å‰ç«¯é‰´æƒ</h2>
<p>å‰ç«¯é‰´æƒï¼Œå¤„ç†ç”¨æˆ·çš„é‰´æƒä¿¡æ¯çš„ä¸¤ç§æ–¹å¼ï¼š<br>
<strong>cookie</strong><br>
cookie ç”¨äºå­˜å‚¨å˜é‡ï¼Œåœ¨å‰ç«¯è¯·æ±‚ç½‘ç»œèµ„æºæˆ–è€…åç«¯æ¥å£æ—¶ï¼Œè¯·æ±‚å¤´ Header é‡Œéƒ½ä¼šå¸¦ä¸Šå½“å‰åŸŸä¸‹çš„ cookie ä¿¡æ¯ï¼ŒæœåŠ¡ç«¯é€šè¿‡æ£€æµ‹è¯·æ±‚å¤´å†…çš„ cookie åˆ¤æ–­å½“å‰ç”¨æˆ·çš„ç™»å½•çŠ¶æ€æ˜¯å¦è¿‡æœŸï¼ˆæˆ–è€… cookieæ˜¯å¦é”™è¯¯ï¼‰ï¼Œæ¥åˆ¤æ–­å½“å‰ç”¨æˆ·èƒ½å¦æˆåŠŸåœ°è¿”å›å“åº”<br>
<strong>token</strong><br>
token æ˜¯æœåŠ¡å™¨ç”Ÿæˆçš„ä¸€ä¸²éšæœºå­—ç¬¦ä¸²æˆ– json ä¸²ï¼Œä½œä¸ºå®¢æˆ·ç«¯è¿›è¡Œèµ„æºè¯·æ±‚çš„ä»¤ç‰Œã€‚è°ƒç”¨ç™»å½•æ¥å£åï¼ŒæœåŠ¡ç«¯è¿”å›ç»™å‰ç«¯ä¸€ä¸ª tokenï¼Œä¹‹åå°† token å­˜å‚¨åˆ°æœ¬åœ°ç¯å¢ƒï¼Œæ¯æ¬¡å‰ç«¯è¯·æ±‚æ¥å£çš„æ—¶å€™ï¼Œéƒ½éœ€è¦åœ¨è¯·æ±‚å¤´é‡Œå¸¦ä¸Š token ä¿¡æ¯ï¼Œå¹¶ä¸” token è¿˜å¯ä»¥åœ¨æœåŠ¡ç«¯è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸåè¿”å›å‰åç«¯å•†é‡å¥½çš„é”™è¯¯ç ï¼Œè·³è½¬åˆ°ç™»å½•èŠ‚ç‚¹é‡æ–°é‰´æƒ</p>

                        </div>
                        
                                
                                                    
                                                        <!-- Share-->
                                                        <span style="margin-right:15px">
                                                    <i class="post-share"></i>
                                                    <span>Share:</span>
                                                        <a title="QR Code" target="_blank" href="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://AriesSK.github.io/post/vue/"><i class="fa fa-qrcode"></i></a>
                                                        <a title="QQ" target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://AriesSK.github.io/post/vue/&sharesource=qzone&title=Vue&pics=https://AriesSK.github.io/images/avatar.png?v=1659076292353&summary="><i class="fa fa-qq"></i></a>
                                                        <a title="Weibo" target="_blank" href="https://service.weibo.com/share/share.php?url=https://AriesSK.github.io/post/vue/&sharesource=weibo&title=Vue + " - " + &pic="https://AriesSK.github.io/images/avatar.png?v=1659076292353 "><i class="fa fa-weibo "></i></a>
                                                        
                                                                </span>
                                                                <!--en-->
                                                                <section class="post-tags en ">
                                                                    <div>
                                                                        <span>Tag(s):</span>
                                                                        <span class="tag ">
                        
                        
                        <a href="https://AriesSK.github.io/tag/DBC_JaLfQ/">#
                                                å‰ç«¯
                                                    </a>
                                                    
                                                        
                                                            </span>
                                                                    </div>
                                                                    <div>
                                                                        <a href="javascript:window.history.back();">back</a>
                                                                        <span>&dot;</span>
                                                                        <a href="#">home</a>
                                                                    </div>
                                                                </section>
                                                                
                                                                                <!---->
                                                                                <section class="post-nav">
                                                                                    
                                                                                        <a class="prev" rel="prev" href="https://AriesSK.github.io/post/qian-duan-mian-shi/">
                                                                                            å‰ç«¯é¢è¯•
                                                                                        </a>
                                                                                        
                                                                                            
                                                                                                <a class="next" rel="next" href="https://AriesSK.github.io/post/html-css/">
                                                                                                    HTML + CSS
                                                                                                </a>
                                                                                                
                                                                                </section>
                    </article>
                </div>
                
                                            
            </div>
    </div>
    </div>
    </div>
    
    <div id="player"></div>
    
        <footer id="footer" class="footer">
            <div class="copyright">
                
                        
                            
                                <b id="hitokoto"></b><br>
                                
                                        <svg viewBox="0 0 1024 1024" style="margin-left: 5px;margin-right: 5px;" version="1.0" width="8" height="8" class="my-face">
            <path
                d="M863.597631 513.574282l-271.33965-140.213484L729.783667 81.926656c3.583731-7.87141 7.167462-15.742819 7.167462-25.214109C736.887134 25.226908 708.345275 0.012799 672.635953 0.012799a63.611229 63.611229 0 0 0-39.293053 12.607055c-1.791866 1.59988-3.519736 3.19976-5.311602 3.19976L147.87531 418.925381a55.547834 55.547834 0 0 0-19.646527 47.356448c1.791866 17.278704 14.27093 33.021523 32.125591 42.492813l271.33965 141.749369L292.504463 945.221908c-12.479064 25.214109-1.791866 53.563983 23.166262 69.306802 10.751194 6.335525 23.230258 9.47129 35.709322 9.47129 16.062795 0 32.125591-4.735645 44.604655-15.742819l480.091993-403.297753a55.547834 55.547834 0 0 0 19.646526-47.228458 61.243407 61.243407 0 0 0-32.12559-44.156688z"
                fill="#93b5cf"></path>
        </svg>
                                        ğŸ§AriesSK &copy;Copyright
                                            <script>
                                                var date = new Date();
                                                document.write("" + date.getFullYear());
                                            </script>
                                            | Powered by
                                            <a href="https://pages.github.com/" target="_blank">
                                                GitHub Pages
                                            </a>
            </div>
            <div id="update" style="display:none;">
                on
            </div>
            
                <div id="version" style="display:none;">
                    1.7.6
                </div>
                
                    <script>
                        var port = '';
                        
                        document.write('<div id="home_path" style="display:none;">' + document.location.protocol + '//' + window.document.location.hostname + port + '</div>')
                    </script>
        </footer>
        
            <script src='https://fastly.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js'></script>
            
                <script>
                    

                    function LoadPlayer() {
                        var musicList = [];
                        
                        musicList.push({
                            name: 'è·¯è¿‡äººé—´',
                            url: 'http://music.163.com/song/media/outer/url?id=1888915574.mp3',
                            artist: 'éƒå¯å”¯',
                            cover: 'https://p1.music.126.net/ufkPSqPN5xku_gUcccZFgw==/109951166677169845.jpg?param=177y177',
                        });
                        
                        console.log(" MusicList: " + musicList);
                        
                        const ap = new APlayer({
                            container: document.getElementById('player'),
                            fixed: true,
                            audio: musicList
                        });
                        
                    }
                    LoadPlayer();
                    
                    
                    loadlive2d();
                    
                    
                    hitokoto();
                    
                    getStar();
                    hljs.initHighlighting();
                    console.clear();
                    
                    CheckVersion();
                    
                    var newDate = new Date();
                    newDate.setTime(1659076292353);
                    console.log(" Blog Update Time: " + newDate.toLocaleDateString());
                    console.log("\n %c \u26a1Theme:Chic Author's Blog:https://blog.itjoker.cn  Write By ITJoker  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;");
                </script>
        </div>
</body>
<script>
    scroll();
</script>

</html>